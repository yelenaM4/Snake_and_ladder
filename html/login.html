<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Login</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
			crossorigin="anonymous"
		/>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
			crossorigin="anonymous"
		></script>
		<link rel="shortcut icon" href="icon/favicon.ico" type="image/x-icon" />
		<link rel="icon" href="icon/favicon.ico" type="image/x-icon" />
		<link rel="stylesheet" href="../css/styles.css" />
		<link
			rel="stylesheet"
			href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"
		/>
		<link rel="shortcut icon" href="../images/icon.ico" type="image/x-icon" />
	</head>
	<body class="bg_img">
		<nav class="navbar navbar-expand-lg navbar-dark bg-danger">
			<div class="container-fluid">
				<a class="navbar-brand" href="">Snakes&Ladders</a>

				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarSupportedContent"
					aria-controls="navbarSupportedContent"
					aria-expanded="false"
					aria-label="Toggle navigation"
				>
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav ms-auto">
						<li class="nav-item">
							<a
								class="nav-link active"
								aria-current="page"
								href="../index.html"
								>Home</a
							>
						</li>
						<li class="nav-item">
							<a class="nav-link active" href="../html/game.html">Game</a>
						</li>

						<li class="nav-item">
							<a class="nav-link active" href="../html/leaderboard.html"
								>Leader Board</a
							>
						</li>

						<li class="nav-item dropdown">
							<a
								class="nav-link active dropdown-toggle"
								href="#"
								id="navbarDropdown"
								role="button"
								data-bs-toggle="dropdown"
								aria-expanded="false"
							>
								Registration
							</a>

							<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
								<li>
									<a class="dropdown-item" href="../html/login.html">Login</a>
								</li>
								<li>
									<a class="dropdown-item" href="../html/signin.html"
										>Sign In</a
									>
								</li>
							</ul>
						</li>
						<li class="nav-item">
							<a class="nav-link active" href="../html/rules.html">Rules</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<main>
			<section class="container-fluid">
				<form method="post">
					<div class="container py-5 h-100">
						<div
							class="row d-flex justify-content-center align-items-center h-100"
						>
							<div class="col-12 col-md-8 col-lg-6 col-xl-5">
								<div class="card shadow-2-strong" style="border-radius: 1rem">
									<div class="card-body p-5 text-center">
										<h3 onclick="login()" class="mb-5">Login</h3>

										<div class="form-outline mb-4">
											<input
												type="email"
												class="form-control"
												id="email"
												placeholder="Enter email"
												name="email"
											/>
											<label for="email">Email</label>
										</div>

										<div class="form-outline mb-4">
											<input
												type="password"
												class="form-control"
												id="pwd"
												placeholder="Enter password"
												name="pwd"
											/>
											<label for="pwd">Password</label>
										</div>

										<button
											type="button"
											onclick="keep()"
											class="btn btn-default"
										>
											Log in
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</form>
			</section>
		</main>

		<footer class="bg-danger text-center text-white">
			<!-- Grid container -->
			<div class="container p-4 pb-0">
				<!-- Section: Social media -->
				<section class="mb-4">
					<!-- Facebook -->
					<a
						class="btn btn-outline-light btn-floating m-1"
						href="#!"
						role="button"
						><i class="fa fa-facebook-f"> </i
					></a>

					<a
						class="btn btn-outline-light btn-floating m-1"
						href="#!"
						role="button"
						><i class="fa fa-twitter"></i
					></a>

					<!-- Google -->
					<a
						class="btn btn-outline-light btn-floating m-1"
						href="#!"
						role="button"
						><i class="fa fa-google"></i
					></a>

					<!-- Instagram -->
					<a
						class="btn btn-outline-light btn-floating m-1"
						href="#!"
						role="button"
						><i class="fa fa-instagram"></i
					></a>
				</section>
				<!-- Section: Social media -->
			</div>
			<!-- Grid container -->

			<!-- Copyright -->
			<div
				class="text-center p-3"
				style="background-color: rgba(0, 0, 0, 0.2)"
			></div>
			<!-- Copyright -->
		</footer>
		<script>
			let name = localStorage.getItem("name")
				? localStorage.getItem("name")
				: "";
			console.log(name);
			if (name != "") {
				alert("login successfully");
				window.location.href = "game.html";
			}
			if (name == "") {
				alert("U need to signup first");
				window.location.href = "signin.html";
			}
			function saveData() {
				let email, pwd;
				email = document.getElementById("email").value;

				psw = document.getElementById("pwd").value;

				let user_records = new Array();
				user_records = JSON.parse(localStorage.getItem("users"))
					? JSON.parse(localStorage.getItem("users"))
					: [];
				if (
					user_records.some((v) => {
						return v.email == email && v.pwd == pwd;
					})
				) {
					alert("Login Pass");
					let current_user = user_records.filter((v) => {
						return v.email == email && v.pwd == pwd;
					})[0];
					localStorage.setItem("name", current_user.name);
					localStorage.setItem("email", current_user.email);
					//window.location.href="profile.html"
				} else {
					alert("Login Fail");
				}
			}
		</script>
	</body>
</html>
